

#include "alt_types.h"
//#include <stdio.h>
//#include <unistd.h>
//#include "system.h"
#include "sys/alt_irq.h"
#include "altera_avalon_pio_regs.h"

void wait(void) {
    volatile int i = 10000;
    while (i--);
}

int main(void) {
    volatile alt_16 led = 0x00;
    while (1) {
        /* Turn the LEDs on. */
        led++;
        IOWR_ALTERA_AVALON_PIO_DATA(LED_PIO_BASE, led);
        IOWR_ALTERA_AVALON_PIO_DATA(RED_LED_PIO_BASE, led >> 8);
        
        volatile int sw = IORD_ALTERA_AVALON_PIO_DATA(BUTTON_PIO_BASE);
        IOWR_ALTERA_AVALON_PIO_DATA(GREEN_LED_PIO_BASE, sw);
        wait();
    }
    return 0;
}
